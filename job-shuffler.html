<!DOCTYPE html>
<html>
    <head>
        <title>BDII Job Shuffler</title>
        <link rel="icon" href="images/asterisk.png">
        
        <style>
        
        html {
            height: 100%;
        }
        
        body {
            margin: 0;
            height: 100%;
            box-shadow: inset 0 0 1024px #7E462B;
            background-color: #DFBE5F;
        }
        
        button {
            border-radius: 1024px;
            border-color: #65371F;
            background-color: #65371F;
            color: white;
            font-family: serif;
            font-size: 1.125em;
            cursor: pointer;
        }
        
        button:hover {
            background-color: #57331D;
        }
        
        button:focus {
            outline: none;
        }
        
        main {
            display: flex;
        }
        
        #buttons {
            display: flex;
            flex-direction: column;
            padding: 16px 8px;
        }
        
        #buttons > * {
            margin: 4px 0;
        }
        
        #jobs {
            display: flex;
            padding: 16px 4px;
        }
        
        #jobs > div {
            display: flex;
            flex-direction: column;
        }
        
        #jobs > div:nth-child(2) {
            margin-top: 8px;
        }
        
        .job-row {
            display: inline-flex;
            align-items: center;
            margin: 1px 8px;
            border: 1px solid #17140D;
            border-radius: 8px;
            padding: 0px 8px;
            background-color: #D1C59F;
        }
        
        .job-row > text {
            margin: 0 8px;
            color: #65371F;
            font-size: 2em;
        }
        
        img {
            width: 48px;
            height: 48px;
        }
        
        </style>
    </head>
    <body>
        <main>
            <div id="buttons">
                <button onclick="shuffleJobs();">Shuffle</button>
                <button onclick="copyTxt();">Copy Text</button>
                <button onclick="downloadTxt();">Download Text</button>
            </div>
            <div id="jobs">
                <div>
                    <div class="job-row">
                        <img src="images/jobicon_freelancer.png" title="Freelancer" data-name="Freelancer">
                        <text>→</text>
                        <span class="shuffled-jobicon">
                            <img src="images/jobicon_freelancer.png" title="Freelancer" data-name="Freelancer">
                        </span>
                    </div>
                    
                    <div class="job-row">
                        <img src="images/jobicon_blackmage.png" title="Black Mage" data-name="Black Mage">
                        <text>→</text>
                        <span class="shuffled-jobicon">
                            <img src="images/jobicon_blackmage.png" title="Black Mage" data-name="Black Mage">
                        </span>
                    </div>
                    
                    <div class="job-row">
                        <img src="images/jobicon_whitemage.png" title="White Mage" data-name="White Mage">
                        <text>→</text>
                        <span class="shuffled-jobicon">
                            <img src="images/jobicon_whitemage.png" title="White Mage" data-name="White Mage">
                        </span>
                    </div>
                    
                    <div class="job-row">
                        <img src="images/jobicon_vanguard.png" title="Vanguard" data-name="Vanguard">
                        <text>→</text>
                        <span class="shuffled-jobicon">
                            <img src="images/jobicon_vanguard.png" title="Vanguard" data-name="Vanguard">
                        </span>
                    </div>
                    
                    <div class="job-row">
                        <img src="images/jobicon_monk.png" title="Monk" data-name="Monk">
                        <text>→</text>
                        <span class="shuffled-jobicon">
                            <img src="images/jobicon_monk.png" title="Monk" data-name="Monk">
                        </span>
                    </div>
                    
                    <div class="job-row">
                        <img src="images/jobicon_troubadour.png" title="Bard" data-name="Bard">
                        <text>→</text>
                        <span class="shuffled-jobicon">
                            <img src="images/jobicon_troubadour.png" title="Bard" data-name="Bard">
                        </span>
                    </div>
                    
                    <div class="job-row">
                        <img src="images/jobicon_tamer.png" title="Beastmaster" data-name="Beastmaster">
                        <text>→</text>
                        <span class="shuffled-jobicon">
                            <img src="images/jobicon_tamer.png" title="Beastmaster" data-name="Beastmaster">
                        </span>
                    </div>
                    
                    <div class="job-row">
                        <img src="images/jobicon_thief.png" title="Thief" data-name="Thief">
                        <text>→</text>
                        <span class="shuffled-jobicon">
                            <img src="images/jobicon_thief.png" title="Thief" data-name="Thief">
                        </span>
                    </div>
                    
                    <div class="job-row">
                        <img src="images/jobicon_gambler.png" title="Gambler" data-name="Gambler">
                        <text>→</text>
                        <span class="shuffled-jobicon">
                            <img src="images/jobicon_gambler.png" title="Gambler" data-name="Gambler">
                        </span>
                    </div>
                    
                    <div class="job-row">
                        <img src="images/jobicon_berzerk.png" title="Berserker" data-name="Berserker">
                        <text>→</text>
                        <span class="shuffled-jobicon">
                            <img src="images/jobicon_berzerk.png" title="Berserker" data-name="Berserker">
                        </span>
                    </div>
                    
                    <div class="job-row">
                        <img src="images/jobicon_redmage.png" title="Red Mage" data-name="Red Mage">
                        <text>→</text>
                        <span class="shuffled-jobicon">
                            <img src="images/jobicon_redmage.png" title="Red Mage" data-name="Red Mage">
                        </span>
                    </div>
                    
                    <div class="job-row">
                        <img src="images/jobicon_hunter.png" title="Ranger" data-name="Ranger">
                        <text>→</text>
                        <span class="shuffled-jobicon">
                            <img src="images/jobicon_hunter.png" title="Ranger" data-name="Ranger">
                        </span>
                    </div>
                    
                </div>
                <div>
                    <div class="job-row">
                        <img src="images/jobicon_shieldmaster.png" title="Shieldmaster" data-name="Shieldmaster">
                        <text>→</text>
                        <span class="shuffled-jobicon">
                            <img src="images/jobicon_shieldmaster.png" title="Shieldmaster" data-name="Shieldmaster">
                        </span>
                    </div>
                    
                    <div class="job-row">
                        <img src="images/jobicon_pictomancer.png" title="Pictomancer" data-name="Pictomancer">
                        <text>→</text>
                        <span class="shuffled-jobicon">
                            <img src="images/jobicon_pictomancer.png" title="Pictomancer" data-name="Pictomancer">
                        </span>
                    </div>
                    
                    <div class="job-row">
                        <img src="images/jobicon_dragoon.png" title="Dragoon" data-name="Dragoon">
                        <text>→</text>
                        <span class="shuffled-jobicon">
                            <img src="images/jobicon_dragoon.png" title="Dragoon" data-name="Dragoon">
                        </span>
                    </div>
                    
                    <div class="job-row">
                        <img src="images/jobicon_spiritmaster.png" title="Spiritmaster" data-name="Spiritmaster">
                        <text>→</text>
                        <span class="shuffled-jobicon">
                            <img src="images/jobicon_spiritmaster.png" title="Spiritmaster" data-name="Spiritmaster">
                        </span>
                    </div>
                    
                    <div class="job-row">
                        <img src="images/jobicon_swordmaster.png" title="Swordmaster" data-name="Swordmaster">
                        <text>→</text>
                        <span class="shuffled-jobicon">
                            <img src="images/jobicon_swordmaster.png" title="Swordmaster" data-name="Swordmaster">
                        </span>
                    </div>
                    
                    <div class="job-row">
                        <img src="images/jobicon_oracle.png" title="Oracle" data-name="Oracle">
                        <text>→</text>
                        <span class="shuffled-jobicon">
                            <img src="images/jobicon_oracle.png" title="Oracle" data-name="Oracle">
                        </span>
                    </div>
                    
                    <div class="job-row">
                        <img src="images/jobicon_salve-maker.png" title="Salve-Maker" data-name="Salve-Maker">
                        <text>→</text>
                        <span class="shuffled-jobicon">
                            <img src="images/jobicon_salve-maker.png" title="Salve-Maker" data-name="Salve-Maker">
                        </span>
                    </div>
                    
                    <div class="job-row">
                        <img src="images/jobicon_arcanist.png" title="Arcanist" data-name="Arcanist">
                        <text>→</text>
                        <span class="shuffled-jobicon">
                            <img src="images/jobicon_arcanist.png" title="Arcanist" data-name="Arcanist">
                        </span>
                    </div>
                    
                    <div class="job-row">
                        <img src="images/jobicon_bastion.png" title="Bastion" data-name="Bastion">
                        <text>→</text>
                        <span class="shuffled-jobicon">
                            <img src="images/jobicon_bastion.png" title="Bastion" data-name="Bastion">
                        </span>
                    </div>
                    
                    <div class="job-row">
                        <img src="images/jobicon_phantom.png" title="Phantom" data-name="Phantom">
                        <text>→</text>
                        <span class="shuffled-jobicon">
                            <img src="images/jobicon_phantom.png" title="Phantom" data-name="Phantom">
                        </span>
                    </div>
                    
                    <div class="job-row">
                        <img src="images/jobicon_hellblade.png" title="Hellblade" data-name="Hellblade">
                        <text>→</text>
                        <span class="shuffled-jobicon">
                            <img src="images/jobicon_hellblade.png" title="Hellblade" data-name="Hellblade">
                        </span>
                    </div>
                    
                    <div class="job-row">
                        <img src="images/jobicon_bravebearer.png" title="wth is this" data-name="Bravebearer">
                        <text>→</text>
                        <span class="shuffled-jobicon">
                            <img src="images/jobicon_bravebearer.png" title="wth is this" data-name="Bravebearer">
                        </span>
                    </div>
                    
                </div>
            </div>
        </main>
        
        <script>
        
        const jobsDiv = document.querySelector("#jobs");
        
        function getCouples() {
            const imgs = Array.from(document.querySelectorAll("img"));
            
            const names = imgs.map(function(img) {
                return img.getAttribute("data-name");
            });
            
            let res = [];
            
            for(let i = 0; i < names.length; i += 2) {
                res.push([names[i], names[i+1]]);
            }
            
            return res;
        }
        
        function padRight(text, length, fillCharacter = " ") {
            text += "";
            
            while(text.length < length) {
                text += fillCharacter;
            }
            
            return text;
        }
        
        function getTxt() {
            return getCouples().map(function(couple) {
                return padRight(couple[0], 12) + "    →   " + padRight(couple[1], 12);
            }).join("\n");
        }
        
        </script>
        <script>
        
        function shuffleJobs() {
            const jobIcons = Array.from(jobsDiv.querySelectorAll(".shuffled-jobicon > img"));
            
            for(let i = 0; i < jobIcons.length; ++i) {
                jobIcons[i].remove();
            }
            
            let i = 0;
            
            while(jobIcons.length > 0) {
                const index = Math.floor(Math.random() * jobIcons.length);
                
                jobsDiv.querySelectorAll(".shuffled-jobicon")[i].appendChild(jobIcons[index]);
                
                jobIcons.splice(index, 1);
                
                ++i;
            }
        }
        
        function copyTxt() {
            const textarea = document.createElement("textarea");
            
            textarea.value = getTxt();
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand("copy");
            textarea.remove();
        }
        
        function downloadTxt() {
            const a = document.createElement("a");
            
            a.download = "shuffled-jobs.txt";
            a.href = "data:text/txt," + getTxt();
            
            a.click();
        }
        
        </script>
    </body>
</html>